"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = require("../types");
const logger_1 = __importDefault(require("../logger"));
const helper_1 = require("../utils/helper");
const utils_1 = require("ethers/lib/utils");
const connectors_1 = require("../connectors");
const TeeOffers_1 = __importDefault(require("../staticModels/TeeOffers"));
const TxManager_1 = __importDefault(require("../utils/TxManager"));
const helpers_1 = require("../utils/helpers");
const constants_1 = require("../constants");
class Order {
    constructor(orderId) {
        this.id = orderId;
        if (!Order.contract) {
            Order.contract = connectors_1.BlockchainConnector.getInstance().getContract();
        }
        this.logger = logger_1.default.child({ className: 'Order', orderId: this.id });
    }
    /**
     * Check if order exist
     */
    isExist() {
        return Order.contract.methods.isOrderValid(this.id).call();
    }
    /**
     * Check if order is in `processing` state
     */
    isOrderProcessing() {
        return Order.contract.methods.isOrderProcessing(this.id).call();
    }
    /**
     * Function for fetching avaliable for unlock order profit.
     */
    isOrderProfitAvailable() {
        return __awaiter(this, void 0, void 0, function* () {
            const parsedResponse = yield Order.contract.methods
                .isOrderProfitAvailable(this.id)
                .call()
                .then((response) => (0, helper_1.cleanWeb3Data)(response));
            return parsedResponse.profit;
        });
    }
    /**
     * Function for fetching order price
     */
    calculateCurrentPrice() {
        return Order.contract.methods
            .calculateOrderCurrentPrice(this.id)
            .call()
            .then((price) => price.toString());
    }
    /**
     * Function for fetching order info from blockchain
     */
    getOrderInfo() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!(yield this.checkIfOrderExistsWithInterval())) {
                throw Error(`Order ${this.id} does not exist`);
            }
            const orderInfoParams = yield Order.contract.methods.getOrder(this.id).call();
            const orderInfo = Object.assign(Object.assign({}, (0, helper_1.cleanWeb3Data)(orderInfoParams[1])), { status: orderInfoParams[1].status.toString() });
            orderInfo.slots.optionsCount = orderInfo.slots.optionsCount.map((count) => Number(count));
            orderInfo.slots.slotCount = Number(orderInfo.slots.slotCount);
            return (this.orderInfo = orderInfo);
        });
    }
    checkIfOrderExistsWithInterval() {
        return __awaiter(this, void 0, void 0, function* () {
            const offerExists = yield (0, helpers_1.tryWithInterval)({
                handler: () => this.isExist(),
                checkResult: (exists) => {
                    if (!exists)
                        this.logger.debug(`Order ${this.id} exists: ${exists}`);
                    return { isResultOk: exists };
                },
                retryInterval: constants_1.BLOCKCHAIN_CALL_RETRY_INTERVAL,
                retryMax: constants_1.BLOCKCHAIN_CALL_RETRY_ATTEMPTS,
            });
            return offerExists;
        });
    }
    getConsumer() {
        return __awaiter(this, void 0, void 0, function* () {
            const consumer = yield Order.contract.methods.getOrder(this.id).call();
            this.consumer = consumer[0];
            return this.consumer;
        });
    }
    /**
     * Function for fetching order result from blockchain
     */
    getOrderResult() {
        return __awaiter(this, void 0, void 0, function* () {
            const orderResults = yield Order.contract.methods.getOrder(this.id).call();
            return (this.orderResult = (0, helper_1.cleanWeb3Data)(orderResults[2]));
        });
    }
    /**
     * Function for fetching sub orders from blockchain
     */
    getSubOrders() {
        return __awaiter(this, void 0, void 0, function* () {
            this.subOrders = yield Order.contract.methods
                .getOrderSubOrders(this.id)
                .call()
                .then((ids) => ids.map((id) => id.toString()));
            return this.subOrders;
        });
    }
    /**
     * Function for fetching parent order from blockchain
     */
    getParentOrder() {
        return __awaiter(this, void 0, void 0, function* () {
            this.parentOrder = yield Order.contract.methods
                .getOrderParentOrder(this.id)
                .call()
                .then((id) => id.toString());
            return this.parentOrder;
        });
    }
    /**
     * Function for fetching order options deposit spent from blockchain
     */
    getOptionsDepositSpent() {
        return Order.contract.methods
            .getOptionsDepositSpent(this.id)
            .call()
            .then((price) => price.toString());
    }
    /**
     * Function for fetching order deposit spent from blockchain
     */
    getSelectedUsage() {
        return __awaiter(this, void 0, void 0, function* () {
            this.selectedUsage = yield Order.contract.methods
                .getOrderSelectedUsage(this.id)
                .call()
                .then((selectedUsage) => (0, helper_1.cleanWeb3Data)(selectedUsage));
            const cpuDenominator = yield TeeOffers_1.default.getDenominator();
            this.selectedUsage.slotInfo = (0, helper_1.unpackSlotInfo)(this.selectedUsage.slotInfo, cpuDenominator);
            this.selectedUsage.slotUsage = (0, helper_1.formatUsage)(this.selectedUsage.slotUsage);
            this.selectedUsage.optionsCount = this.selectedUsage.optionsCount.map((item) => Number(item));
            this.selectedUsage.optionInfo = this.selectedUsage.optionInfo.map((optionInfo) => (0, helper_1.formatOptionInfo)(optionInfo));
            this.selectedUsage.optionUsage = this.selectedUsage.optionUsage.map((usage) => (0, helper_1.formatUsage)(usage));
            return this.selectedUsage;
        });
    }
    /**
     * Function for fetching hold deposits sum of the order and its suborders
     */
    calculateTotalOrderDeposit() {
        return Order.contract.methods
            .calculateTotalOrderDeposit(this.id)
            .call()
            .then((price) => price.toString());
    }
    /**
     * Function for fetching reserve for output order
     */
    calculateOrderOutputReserve() {
        return Order.contract.methods
            .calculateOrderOutputReserve(this.id)
            .call()
            .then((price) => price.toString());
    }
    /**
     * Function for fetching spent deposits sum of the order and its suborders
     */
    calculateTotalDepositSpent() {
        return Order.contract.methods
            .calculateTotalDepositSpent(this.id)
            .call()
            .then((price) => price.toString());
    }
    /**
     * Function for fetching unspent deposits sum of the order and its suborders
     */
    calculateTotalDepositUnspent() {
        return Order.contract.methods
            .calculateTotalDepositUnspent(this.id)
            .call()
            .then((price) => price.toString());
    }
    /**
     * Fetch new Origins (createdDate, createdBy, modifiedDate and modifiedBy)
     */
    getOrigins() {
        return __awaiter(this, void 0, void 0, function* () {
            const origins = yield Order.contract.methods
                .getOrderOrigins(this.id)
                .call()
                .then((origins) => (0, helper_1.cleanWeb3Data)(origins));
            // Convert blockchain time seconds to js time milliseconds
            origins.createdDate = Number(origins.createdDate) * 1000;
            origins.modifiedDate = Number(origins.modifiedDate) * 1000;
            return (this.origins = origins);
        });
    }
    /**
     * Function for fetching parent order from blockchain
     */
    getAwaitingPayment() {
        return Order.contract.methods.getAwaitingPayment(this.id).call();
    }
    /**
     * Function for fetching deposit of order from blockchain
     */
    getDeposit() {
        return Order.contract.methods
            .getOrderDeposit(this.id)
            .call()
            .then((price) => price.toString());
    }
    /**
     * Function for fetching start of processing date
     */
    getStartDate() {
        return __awaiter(this, void 0, void 0, function* () {
            return Number(yield Order.contract.methods.getStartDate(this.id).call());
        });
    }
    /**
     * Function for fetching parent order from blockchain
     */
    setAwaitingPayment(value, transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            yield TxManager_1.default.execute(Order.contract.methods.setAwaitingPayment(this.id, value), transactionOptions);
        });
    }
    /**
     * Sets options deposit spent
     */
    setOptionsDepositSpent(value, transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            yield TxManager_1.default.execute(Order.contract.methods.setOptionsDepositSpent(this.id, value), transactionOptions);
        });
    }
    /**
     * Function for updating status of contract
     */
    updateStatus(status, transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            if (status === types_1.OrderStatus.Processing) {
                yield TxManager_1.default.execute(Order.contract.methods.processOrder(this.id), transactionOptions);
            }
            if (this.orderInfo)
                this.orderInfo.status = status;
        });
    }
    /**
     * Function for updating status of contract
     */
    cancelOrder(transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            yield TxManager_1.default.execute(Order.contract.methods.cancelOrder(this.id), transactionOptions);
        });
    }
    /**
     * Starts suspended order
     */
    start(transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            yield TxManager_1.default.execute(Order.contract.methods.startOrder(this.id), transactionOptions);
        });
    }
    /**
     * Updates order result
     */
    updateOrderResult(encryptedResult = '', transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            yield TxManager_1.default.execute(Order.contract.methods.updateOrderResult(this.id, encryptedResult), transactionOptions);
        });
    }
    /**
     * Completes order
     */
    complete(status, encryptedResult = '', transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            yield TxManager_1.default.execute(Order.contract.methods.completeOrder(this.id, status, encryptedResult), transactionOptions);
        });
    }
    /**
     * Unlocks profit
     */
    unlockProfit(transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            yield TxManager_1.default.execute(Order.contract.methods.unlockProfit(this.id), transactionOptions);
        });
    }
    /**
     * Function for creating sub orders for current order
     * @param subOrderInfo - order info for new subOrder
     * @param blockParentOrder - is sub order blocking
     * @param transactionOptions - object what contains alternative action account or gas limit (optional)
     * @returns Promise<void> - Does not return id of created sub order!
     */
    createSubOrder(subOrderInfo, blockParentOrder, deposit, transactionOptions, checkTxBeforeSend = false) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            deposit = deposit !== null && deposit !== void 0 ? deposit : '0';
            const preparedInfo = Object.assign(Object.assign({}, subOrderInfo), { externalId: (0, utils_1.formatBytes32String)(subOrderInfo.externalId) });
            const params = {
                blockParentOrder,
                deposit,
            };
            if (checkTxBeforeSend) {
                yield TxManager_1.default.dryRun(Order.contract.methods.createSubOrder(this.id, preparedInfo, params), transactionOptions);
            }
            yield TxManager_1.default.execute(Order.contract.methods.createSubOrder(this.id, preparedInfo, params), transactionOptions);
        });
    }
    /**
     * Function for creating pack of sub orders (wokflow) for current order
     * @param subOrdersInfo - orders info for new subOrders
     * @param transactionOptions - object what contains action account and web3 instance
     * @returns {Promise<string[]>} - tx hashes
     */
    createSubOrders(subOrdersInfo, transactionOptions) {
        return __awaiter(this, void 0, void 0, function* () {
            (0, helper_1.checkIfActionAccountInitialized)(transactionOptions);
            const promises = [];
            subOrdersInfo.map((subOrderInfo) => {
                const preparedInfo = Object.assign(Object.assign({}, subOrderInfo), { externalId: (0, utils_1.formatBytes32String)(subOrderInfo.externalId) });
                const params = {
                    blockParentOrder: subOrderInfo.blocking,
                    deposit: subOrderInfo.deposit,
                };
                const transactionCall = Order.contract.methods.createSubOrder(this.id, preparedInfo, params);
                promises.push(TxManager_1.default.execute(transactionCall, transactionOptions));
            });
            return (yield Promise.all(promises)).map((tx) => tx.transactionHash);
        });
    }
    /**
     * Function for adding event listeners to contract events
     * @param callback - function for processing each order related with event
     * @returns unsubscribe - function unsubscribing from event
     */
    onStatusUpdated(callback) {
        const logger = this.logger.child({ method: 'onOrderStatusUpdated' });
        // TODO: add ability to use this event without https provider initialization
        const contractWss = connectors_1.BlockchainEventsListener.getInstance().getContract();
        const subscription = contractWss.events.OrderStatusUpdated();
        subscription.on('data', (event) => {
            var _a;
            if (event.returnValues.orderId != this.id) {
                return;
            }
            const newStatus = (_a = event.returnValues.status) === null || _a === void 0 ? void 0 : _a.toString();
            if (this.orderInfo)
                this.orderInfo.status = newStatus;
            callback(newStatus);
        });
        subscription.on('error', (error) => {
            logger.warn(error);
        });
        return () => subscription.unsubscribe();
    }
}
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getOrderInfo", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getConsumer", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getOrderResult", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getSubOrders", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getParentOrder", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getOptionsDepositSpent", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getSelectedUsage", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "calculateTotalOrderDeposit", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "calculateOrderOutputReserve", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "calculateTotalDepositSpent", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "calculateTotalDepositUnspent", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getOrigins", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getAwaitingPayment", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getDeposit", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], Order.prototype, "getStartDate", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Boolean, Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "setAwaitingPayment", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "setOptionsDepositSpent", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "updateStatus", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "cancelOrder", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "start", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object, Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "updateOrderResult", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object, Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "complete", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "unlockProfit", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object, Boolean, String, Object, Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "createSubOrder", null);
__decorate([
    (0, helper_1.incrementMethodCall)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Array, Object]),
    __metadata("design:returntype", Promise)
], Order.prototype, "createSubOrders", null);
exports.default = Order;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3JkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL09yZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0NBV2tCO0FBR2xCLHVEQUFtQztBQUVuQyw0Q0FPeUI7QUFDekIsNENBQXVEO0FBQ3ZELDhDQUE4RTtBQUM5RSwwRUFBa0Q7QUFDbEQsbUVBQTJDO0FBQzNDLDhDQUFtRDtBQUNuRCw0Q0FBOEY7QUFFOUYsTUFBTSxLQUFLO0lBY1QsWUFBWSxPQUFxQjtRQUMvQixJQUFJLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztRQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUNuQixLQUFLLENBQUMsUUFBUSxHQUFHLGdDQUFtQixDQUFDLFdBQVcsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ2xFO1FBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxnQkFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFRDs7T0FFRztJQUNJLE9BQU87UUFDWixPQUFPLEtBQUssQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDN0QsQ0FBQztJQUVEOztPQUVHO0lBQ0ksaUJBQWlCO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2xFLENBQUM7SUFFRDs7T0FFRztJQUNVLHNCQUFzQjs7WUFDakMsTUFBTSxjQUFjLEdBQUcsTUFBTSxLQUFLLENBQUMsUUFBUSxDQUFDLE9BQU87aUJBQ2hELHNCQUFzQixDQUFDLElBQUksQ0FB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