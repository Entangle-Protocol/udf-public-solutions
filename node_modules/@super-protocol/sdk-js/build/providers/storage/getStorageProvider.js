"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const dto_js_1 = require("@super-protocol/dto-js");
const StorjStorageProvider_1 = __importDefault(require("./StorjStorageProvider"));
const S3StorageProvider_1 = require("./S3StorageProvider");
exports.default = (storageAccess) => {
    const key = storageAccess.storageType;
    switch (key) {
        case dto_js_1.StorageType.StorJ:
            return new StorjStorageProvider_1.default(storageAccess.credentials, storageAccess.maximumConcurrent);
        case dto_js_1.StorageType.S3:
            return new S3StorageProvider_1.S3StorageProvider(storageAccess.credentials);
        default:
            throw Error(`Unsupported storageType ${key}`);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0U3RvcmFnZVByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Byb3ZpZGVycy9zdG9yYWdlL2dldFN0b3JhZ2VQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLG1EQUFxRDtBQUdyRCxrRkFBMEQ7QUFDMUQsMkRBQXdEO0FBRXhELGtCQUFlLENBQUMsYUFBNEIsRUFBb0IsRUFBRTtJQUNoRSxNQUFNLEdBQUcsR0FBRyxhQUFhLENBQUMsV0FBMEIsQ0FBQztJQUNyRCxRQUFRLEdBQUcsRUFBRTtRQUNYLEtBQUssb0JBQVcsQ0FBQyxLQUFLO1lBQ3BCLE9BQU8sSUFBSSw4QkFBb0IsQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzlGLEtBQUssb0JBQVcsQ0FBQyxFQUFFO1lBQ2pCLE9BQU8sSUFBSSxxQ0FBaUIsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUQ7WUFDRSxNQUFNLEtBQUssQ0FBQywyQkFBMkIsR0FBRyxFQUFFLENBQUMsQ0FBQztLQUNqRDtBQUNILENBQUMsQ0FBQyJ9