"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createQuoteVerifyErrorSkipper = void 0;
const addons_tee_1 = require("@super-protocol/addons-tee");
const createQuoteVerifyErrorSkipper = (logger) => {
    const methodLogger = logger?.child({ className: 'QuoteVerifyServiceErrorSkipper' });
    return async (validateQuoteVerifierEnclavePromise) => {
        try {
            await validateQuoteVerifierEnclavePromise;
        }
        catch (error) {
            if (error instanceof addons_tee_1.SgxNative.QuoteValidationError) {
                if (!error.criticalError) {
                    methodLogger?.warn(`QuoteValidationError: ${error.message}`);
                    return;
                }
            }
            throw error;
        }
    };
};
exports.createQuoteVerifyErrorSkipper = createQuoteVerifyErrorSkipper;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tpcC12YWxpZGF0aW9uLXF1b3RlLWVycm9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RlZS1kZXZpY2Uvc2tpcC12YWxpZGF0aW9uLXF1b3RlLWVycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJEQUF1RDtBQUtoRCxNQUFNLDZCQUE2QixHQUFHLENBQUMsTUFBbUIsRUFBRSxFQUFFO0lBQ25FLE1BQU0sWUFBWSxHQUFHLE1BQU0sRUFBRSxLQUFLLENBQUMsRUFBRSxTQUFTLEVBQUUsZ0NBQWdDLEVBQUUsQ0FBQyxDQUFDO0lBRXBGLE9BQU8sS0FBSyxFQUFFLG1DQUFrRCxFQUFFLEVBQUU7UUFDbEUsSUFBSTtZQUNGLE1BQU0sbUNBQW1DLENBQUM7U0FDM0M7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLElBQUksS0FBSyxZQUFZLHNCQUFTLENBQUMsb0JBQW9CLEVBQUU7Z0JBQ25ELElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFO29CQUN4QixZQUFZLEVBQUUsSUFBSSxDQUFDLHlCQUF5QixLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztvQkFFN0QsT0FBTztpQkFDUjthQUNGO1lBRUQsTUFBTSxLQUFLLENBQUM7U0FDYjtJQUNILENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQWxCVyxRQUFBLDZCQUE2QixpQ0FrQnhDIn0=